**************** FILE: atm/ChecksumType.h *********************************/
*************************************************/
**************** FILE: atm/CommandLine.h *********************************/
*************************************************/
**************** FILE: atm/Connectivity.cpp *********************************/
134c134
< ) {
---
> ) {
152c152
< ) :
---
> ) :
305c305
< 				m_vecSendBuffer[m_ixSendBuffer++] = data[k][i][j];
---
> 				m_vecSendBuffer[m_ixSendBuffer++] = data[k][i][j];
310c310
<
---
>
416c416
< 	// Pack data to send toprightward
---
> 	// Pack data to send toprightward
422c422
<
---
>
453c453
< 	// Pack data to send topleftward
---
> 	// Pack data to send topleftward
459c459
<
---
>
490c490
< 	// Pack data to send bottomleftward
---
> 	// Pack data to send bottomleftward
496c496
<
---
>
527c527
< 	// Pack data to send bottomrightward
---
> 	// Pack data to send bottomrightward
533c533
<
---
>
967c967
< 		if ((pNeighbor->m_info.dir == Direction_Right) ||
---
> 		if ((pNeighbor->m_info.dir == Direction_Right) ||
*************************************************/
**************** FILE: atm/Connectivity.h *********************************/
*************************************************/
**************** FILE: atm/Connectivity.h.save *********************************/
*************************************************/
**************** FILE: atm/ConsolidationStatus.cpp *********************************/
31d30
< #ifdef USE_MPI
33d31
< #endif
119d116
<
126a124
>
*************************************************/
**************** FILE: atm/ConsolidationStatus.h *********************************/
23d22
< #ifdef USE_MPI
25,28d23
< #endif
< #ifdef USE_OCR
< typedef int MPI_Request;
< #endif
*************************************************/
**************** FILE: atm/CubedSphereTrans.cpp *********************************/
98c98
<
---
>
493c493
< 			dUlat =
---
> 			dUlat =
507c507
< 			dUlon =
---
> 			dUlon =
533c533
<
---
>
587c587
< 			dUbeta =
---
> 			dUbeta =
601c601
< 			dUalpha =
---
> 			dUalpha =
621c621
< 			dUalpha =
---
> 			dUalpha =
*************************************************/
**************** FILE: atm/CubedSphereTrans.h *********************************/
63c63
< 	///		Determine the (X, Y, idest) coordinates of a source point on
---
> 	///		Determine the (X, Y, idest) coordinates of a source point on
103c103
< 	///		Determine the (lat, lon) coordinates of a point in equiangular ABP
---
> 	///		Determine the (lat, lon) coordinates of a point in equiangular ABP
1649c1649
<
---
>
1921c1921
< 		dBeta =
---
> 		dBeta =
1998c1998
<
---
>
*************************************************/
**************** FILE: atm/Defines.h *********************************/
*************************************************/
**************** FILE: atm/Direction.cpp *********************************/
*************************************************/
**************** FILE: atm/Direction.h *********************************/
*************************************************/
**************** FILE: atm/DynamicsUtilities.h *********************************/
*************************************************/
**************** FILE: atm/EquationSet.cpp *********************************/
*************************************************/
**************** FILE: atm/EquationSet.h *********************************/
*************************************************/
**************** FILE: atm/FluxCorrectionFunction.cpp *********************************/
*************************************************/
**************** FILE: atm/FluxCorrectionFunction.h *********************************/
*************************************************/
**************** FILE: atm/Grid.cpp *********************************/
448c448
< 	} else if (eDataType == DataType_Tracers) {
---
> 	} else if (eDataType == DataType_Tracers) {
1155c1155
<
---
>
*************************************************/
**************** FILE: atm/Grid.h *********************************/
*************************************************/
**************** FILE: atm/GridCSGLL.cpp *********************************/
420c420
<
---
>
424c424
<
---
>
*************************************************/
**************** FILE: atm/GridCSGLL.h *********************************/
*************************************************/
**************** FILE: atm/GridCartesianGLL.cpp *********************************/
*************************************************/
**************** FILE: atm/GridCartesianGLL.cpp.save *********************************/
*************************************************/
**************** FILE: atm/GridCartesianGLL.h *********************************/
59c59
<
---
>
85c85
<
---
>
97c97
<
---
>
163c163
<
---
>
*************************************************/
**************** FILE: atm/GridGLL.cpp *********************************/
552c552
< 	}
---
> 	}
*************************************************/
**************** FILE: atm/GridGLL.h *********************************/
*************************************************/
**************** FILE: atm/GridPatch.cpp *********************************/
23d22
< #ifdef USE_MPI
25d23
< #endif
49c47
<
---
>
135d132
< #ifdef USE_MPI
137d133
< #endif
442c438
<
---
>
*************************************************/
**************** FILE: atm/GridPatch.h *********************************/
*************************************************/
**************** FILE: atm/GridPatchCSGLL.cpp *********************************/
382c382
< 		double dContraMetricScale =
---
> 		double dContraMetricScale =
*************************************************/
**************** FILE: atm/GridPatchCSGLL.h *********************************/
*************************************************/
**************** FILE: atm/GridPatchCartesianGLL.cpp *********************************/
96c96
< 	double dElementDeltaB = (gridCartesianGLL.GetMaximumY() -
---
> 	double dElementDeltaB = (gridCartesianGLL.GetMaximumY() -
100c100
<
---
>
138c138
<
---
>
263,264c263,264
< 	double dRefLat = gridCartesianGLL.GetReferenceLatitude();
< 	double dy0 = 0.5 * fabs(gridCartesianGLL.GetMaximumY() -
---
> 	double dRefLat = gridCartesianGLL.GetReferenceLatitude();
> 	double dy0 = 0.5 * fabs(gridCartesianGLL.GetMaximumY() -
267c267
< 	double dbetap = 2.0 * phys.GetOmega() * cos(dRefLat) /
---
> 	double dbetap = 2.0 * phys.GetOmega() * cos(dRefLat) /
340c340
< 				double dDxZ = m_grid.GetZtop() - dZs * m_grid.GetZtop() *
---
> 				double dDxZ = m_grid.GetZtop() - dZs * m_grid.GetZtop() *
412c412
< /*
---
> /*
430c430
< 				double dbZ = sinh(m_grid.GetZtop() * (1.0 - dREtaStretch) / m_dSL) /
---
> 				double dbZ = sinh(m_grid.GetZtop() * (1.0 - dREtaStretch) / m_dSL) /
441c441
< 				double dDxZ = m_grid.GetZtop() - dZs * m_grid.GetZtop() *
---
> 				double dDxZ = m_grid.GetZtop() - dZs * m_grid.GetZtop() *
518c518
<
---
>
549,550c549,550
< 			m_dataZLevels[k][i][j] = m_grid.GetZtop() * m_grid.GetREtaLevel(k) +
< 			m_dataTopography[i][j] * sinh(m_grid.GetZtop() * (1.0 - m_grid.GetREtaLevel(k)) / m_dSL) /
---
> 			m_dataZLevels[k][i][j] = m_grid.GetZtop() * m_grid.GetREtaLevel(k) +
> 			m_dataTopography[i][j] * sinh(m_grid.GetZtop() * (1.0 - m_grid.GetREtaLevel(k)) / m_dSL) /
554,555c554,555
< 			m_dataZInterfaces[k][i][j] = m_grid.GetZtop() * m_grid.GetREtaInterface(k) +
< 			m_dataTopography[i][j] * sinh(m_grid.GetZtop() * (1.0 - m_grid.GetREtaInterface(k)) / m_dSL) /
---
> 			m_dataZInterfaces[k][i][j] = m_grid.GetZtop() * m_grid.GetREtaInterface(k) +
> 			m_dataTopography[i][j] * sinh(m_grid.GetZtop() * (1.0 - m_grid.GetREtaInterface(k)) / m_dSL) /
1231c1231
<
---
>
*************************************************/
**************** FILE: atm/GridPatchCartesianGLL.h *********************************/
*************************************************/
**************** FILE: atm/GridPatchGLL.cpp *********************************/
*************************************************/
**************** FILE: atm/GridPatchGLL.h *********************************/
*************************************************/
**************** FILE: atm/GridSpacing.cpp *********************************/
*************************************************/
**************** FILE: atm/GridSpacing.h *********************************/
*************************************************/
**************** FILE: atm/GridStaggering.h *********************************/
*************************************************/
**************** FILE: atm/HeldSuarezPhysics.cpp *********************************/
*************************************************/
**************** FILE: atm/HeldSuarezPhysics.h *********************************/
*************************************************/
**************** FILE: atm/HorizontalDynamics.h *********************************/
*************************************************/
**************** FILE: atm/HorizontalDynamicsDG.cpp *********************************/
256c256
< 				dLocalUpdateUa -=
---
> 				dLocalUpdateUa -=
455c455
< #ifdef DIFFERENTIAL_FORM
---
> #ifdef DIFFERENTIAL_FORM
577c577
< #ifdef DIFFERENTIAL_FORM
---
> #ifdef DIFFERENTIAL_FORM
892c892
< 				dLocalUpdateUa -=
---
> 				dLocalUpdateUa -=
1558c1558
< 				double dDivUpdateAB =
---
> 				double dDivUpdateAB =
*************************************************/
**************** FILE: atm/HorizontalDynamicsDG.h *********************************/
*************************************************/
**************** FILE: atm/HorizontalDynamicsFEM.cpp *********************************/
563c563
<
---
>
602c602
<
---
>
890c890
< 							* dDxBasis1D[s][i];
---
> 							* dDxBasis1D[s][i];
1344c1344
< 					double dU0 =
---
> 					double dU0 =
1350c1350
< 					double dV0 =
---
> 					double dV0 =
2189c2189
< 	// Apply viscosity
---
> 	// Apply viscosity
*************************************************/
**************** FILE: atm/HorizontalDynamicsFEM.h *********************************/
*************************************************/
**************** FILE: atm/HorizontalDynamicsStub.h *********************************/
*************************************************/
**************** FILE: atm/JacobianFreeNewtonKrylov.cpp *********************************/
223c223
< 				m_dW[j] = (m_dW[j] - m_dFX[j]) * dInvEpsilon;
---
> 				m_dW[j] = (m_dW[j] - m_dFX[j]) * dInvEpsilon;
*************************************************/
**************** FILE: atm/JacobianFreeNewtonKrylov.h *********************************/
112c112
<
---
>
147c147
<
---
>
*************************************************/
**************** FILE: atm/LinearColumnOperator.cpp *********************************/
*************************************************/
**************** FILE: atm/LinearColumnOperator.h *********************************/
*************************************************/
**************** FILE: atm/LinearColumnOperatorFEM.cpp *********************************/
277c277
<
---
>
408c408
< 		double dDeltaREta =
---
> 		double dDeltaREta =
*************************************************/
**************** FILE: atm/LinearColumnOperatorFEM.h *********************************/
*************************************************/
**************** FILE: atm/Makefile *********************************/
*************************************************/
**************** FILE: atm/Model.cpp *********************************/
482d481
< #ifdef USE_MPI
484d482
< #endif
*************************************************/
**************** FILE: atm/Model.cpp.save *********************************/
*************************************************/
**************** FILE: atm/Model.h *********************************/
*************************************************/
**************** FILE: atm/OutputManager.cpp *********************************/
26d25
< #ifdef USE_MPI
28d26
< #endif
59d56
< #ifdef USE_MPI
61d57
< #endif
*************************************************/
**************** FILE: atm/OutputManager.h *********************************/
*************************************************/
**************** FILE: atm/OutputManagerChecksum.cpp *********************************/
24d23
< #ifdef USE_MPI
26d24
< #endif
50d47
< #ifdef USE_MPI
52d48
< #endif
*************************************************/
**************** FILE: atm/OutputManagerChecksum.h *********************************/
*************************************************/
**************** FILE: atm/OutputManagerComposite.cpp *********************************/
26d25
< #ifdef USE_MPI
28d26
< #endif
73d70
< #ifdef USE_MPI
75d71
< #endif
194d189
< #ifdef USE_MPI
196d190
< #endif
199c193
< }
---
> }
*************************************************/
**************** FILE: atm/OutputManagerComposite.h *********************************/
*************************************************/
**************** FILE: atm/OutputManagerReference.cpp *********************************/
26d25
< #ifdef USE_MPI
28d26
< #endif
238d235
< #ifdef USE_MPI
240d236
< #endif
417d412
< #ifdef USE_MPI
419d413
< #endif
422c416
< }
---
> }
448d441
< #ifdef USE_MPI
450d442
< #endif
619d610
< #ifdef USE_MPI
621d611
< #endif
*************************************************/
**************** FILE: atm/OutputManagerReference.h *********************************/
*************************************************/
**************** FILE: atm/PatchBox.h *********************************/
*************************************************/
**************** FILE: atm/PhysicalConstants.cpp *********************************/
*************************************************/
**************** FILE: atm/PhysicalConstants.h *********************************/
*************************************************/
**************** FILE: atm/Tempest.h *********************************/
*************************************************/
**************** FILE: atm/TempestInitialize.h *********************************/
42d41
< #ifdef USE_MPI
44d42
< #endif
370c368
<
---
>
373d370
< #ifdef USE_MPI
375d371
< #endif
455d450
< #ifdef USE_MPI
457d451
< #endif
459c453
< 	Grid * pGrid =
---
> 	Grid * pGrid =
516d509
< #ifdef USE_MPI
519d511
< #endif
532d523
< #ifdef USE_MPI
534d524
< #endif
*************************************************/
**************** FILE: atm/TestCase.cpp *********************************/
*************************************************/
**************** FILE: atm/TestCase.h *********************************/
*************************************************/
**************** FILE: atm/TimestepScheme.h *********************************/
*************************************************/
**************** FILE: atm/TimestepSchemeARK2.cpp *********************************/
*************************************************/
**************** FILE: atm/TimestepSchemeARK2.h *********************************/
*************************************************/
**************** FILE: atm/TimestepSchemeARK3.cpp *********************************/
*************************************************/
**************** FILE: atm/TimestepSchemeARK3.h *********************************/
*************************************************/
**************** FILE: atm/TimestepSchemeARK4.cpp *********************************/
29c29
< const double TimestepSchemeARK4::m_dTimeCf[6] = {1./3., 1./3.,
---
> const double TimestepSchemeARK4::m_dTimeCf[6] = {1./3., 1./3.,
91c91
<
---
>
*************************************************/
**************** FILE: atm/TimestepSchemeARK4.h *********************************/
*************************************************/
**************** FILE: atm/TimestepSchemeStrang.cpp *********************************/
245c245
<
---
>
443c443
<
---
>
*************************************************/
**************** FILE: atm/TimestepSchemeStrang.h *********************************/
*************************************************/
**************** FILE: atm/VerticalDynamics.h *********************************/
*************************************************/
**************** FILE: atm/VerticalDynamicsFEM.cpp *********************************/
1581c1581
< 		if (pGrid->GetVarLocation(PIx) == DataLocation_Node) {
---
> 		if (pGrid->GetVarLocation(PIx) == DataLocation_Node) {
2478c2478
< 			double dRHSWCoeff =
---
> 			double dRHSWCoeff =
2488c2488
< 					dRHSWCoeff
---
> 					dRHSWCoeff
2539c2539
< 			double dRHSWCoeff =
---
> 			double dRHSWCoeff =
2549c2549
< 					dRHSWCoeff
---
> 					dRHSWCoeff
*************************************************/
**************** FILE: atm/VerticalDynamicsFEM.h *********************************/
*************************************************/
**************** FILE: atm/VerticalDynamicsStub.h *********************************/
*************************************************/
**************** FILE: atm/VerticalStretch.h *********************************/
*************************************************/
**************** FILE: atm/WorkflowProcess.cpp *********************************/
*************************************************/
**************** FILE: atm/WorkflowProcess.h *********************************/
*************************************************/
**************** FILE: base/Announce.cpp *********************************/
19d18
< #ifdef USE_MPI
21d19
< #endif
65d62
< #ifdef USE_MPI
67d63
< #endif
105d100
< #ifdef USE_MPI
107d101
< #endif
139d132
< #ifdef USE_MPI
141c134
< #endif
---
>
189d181
< #ifdef USE_MPI
191d182
< #endif
*************************************************/
**************** FILE: base/Announce.h *********************************/
*************************************************/
**************** FILE: base/CommandLine.h *********************************/
*************************************************/
**************** FILE: base/DataArray1D.h *********************************/
*************************************************/
**************** FILE: base/DataArray2D.h *********************************/
*************************************************/
**************** FILE: base/DataArray3D.h *********************************/
*************************************************/
**************** FILE: base/DataArray4D.h *********************************/
*************************************************/
**************** FILE: base/DataChunk.h *********************************/
*************************************************/
**************** FILE: base/DataContainer.cpp *********************************/
52c52
<
---
>
*************************************************/
**************** FILE: base/DataContainer.h *********************************/
*************************************************/
**************** FILE: base/DataLocation.h *********************************/
*************************************************/
**************** FILE: base/DataType.h *********************************/
*************************************************/
**************** FILE: base/DebugHelper.h *********************************/
*************************************************/
**************** FILE: base/Exception.cpp *********************************/
*************************************************/
**************** FILE: base/Exception.h *********************************/
69c69
<
---
>
84c84
<
---
>
94c94
<
---
>
106c106
<
---
>
111c111
<
---
>
*************************************************/
**************** FILE: base/FunctionTimer.cpp *********************************/
*************************************************/
**************** FILE: base/FunctionTimer.h *********************************/
*************************************************/
**************** FILE: base/GaussLobattoQuadrature.cpp *********************************/
186c186
<
---
>
*************************************************/
**************** FILE: base/GaussLobattoQuadrature.h *********************************/
*************************************************/
**************** FILE: base/GaussQuadrature.cpp *********************************/
*************************************************/
**************** FILE: base/GaussQuadrature.h *********************************/
*************************************************/
**************** FILE: base/LegendrePolynomial.cpp *********************************/
726c726
< 			// Second derivative obtained from
---
> 			// Second derivative obtained from
*************************************************/
**************** FILE: base/LegendrePolynomial.h *********************************/
83c83
< 	///		Retrieve the specified root of the extended derivative of the
---
> 	///		Retrieve the specified root of the extended derivative of the
*************************************************/
**************** FILE: base/LinearAlgebra.cpp *********************************/
*************************************************/
**************** FILE: base/LinearAlgebra.h *********************************/
77c77
< int dgbsv_(int *n, int *kl, int *ku, int *nrhs, double *ab, int *ldab, int *ipiv, double *b, int *ldb, int *info);
---
> int dgbsv_(int *n, int *kl, int *ku, int *nrhs, double *ab, int *ldab, int *ipiv, double *b, int *ldb, int *info);
*************************************************/
**************** FILE: base/Makefile *********************************/
*************************************************/
**************** FILE: base/MathHelper.cpp *********************************/
*************************************************/
**************** FILE: base/MathHelper.h *********************************/
*************************************************/
**************** FILE: base/MemoryTools.cpp *********************************/
*************************************************/
**************** FILE: base/MemoryTools.h *********************************/
*************************************************/
**************** FILE: base/PolynomialInterp.cpp *********************************/
*************************************************/
**************** FILE: base/PolynomialInterp.h *********************************/
*************************************************/
**************** FILE: base/Preferences.cpp *********************************/
*************************************************/
**************** FILE: base/Preferences.h *********************************/
*************************************************/
**************** FILE: base/STLStringHelper.h *********************************/
*************************************************/
**************** FILE: base/StringHelper.h *********************************/
*************************************************/
**************** FILE: base/TimeObj.cpp *********************************/
131c131
< 	if ((m_eCalendarType == CalendarNoLeap) ||
---
> 	if ((m_eCalendarType == CalendarNoLeap) ||
170c170
< 	if ((m_eCalendarType == CalendarNoLeap) ||
---
> 	if ((m_eCalendarType == CalendarNoLeap) ||
350c350
<
---
>
383c383
<
---
>
685c685
< 			// Record second
---
> 			// Record second
695c695
< 			// Record microsecond
---
> 			// Record microsecond
765c765
< 		}
---
> 		}
*************************************************/
**************** FILE: base/TimeObj.h *********************************/
*************************************************/
